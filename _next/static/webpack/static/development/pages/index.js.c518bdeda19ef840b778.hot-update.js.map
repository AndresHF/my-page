{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.c518bdeda19ef840b778.hot-update.js","sources":["webpack:///./src/components/sketchs/matrixRain/symbol.ts"],"sourcesContent":["import p5 from \"p5\";\r\n\r\n\r\nconst getRandomSymbol = () => {\r\n    return String.fromCharCode(0x30A0 + Math.round(Math.random() * 96));\r\n}\r\n\r\nconst getRandomNumber = (max: number, min: number = 10) => {\r\n    return Math.floor(Math.random() * max) + min;\r\n}\r\n\r\nconst Y_OFFSET = 20;\r\n\r\nconst checkMouseHover = (itemX: number, itemY: number, mouseX: number, mouseY:number) => {\r\n    return mouseX >= itemX && mouseX <= itemX + 30 && mouseY >= itemY && mouseY <= itemY + 30;\r\n}\r\n\r\nclass Symbol {\r\n    \r\n    position: p5.Vector;\r\n    velocity: p5.Vector; \r\n    symbol: string;\r\n    randomChange: number;\r\n    tail: Array<Symbol>;\r\n    lastSymbol: string;\r\n    constructor(p5: p5, isHead: boolean = true) {\r\n        this.initSymbol(p5, isHead);\r\n        if(isHead) {\r\n            this.tail = new Array(getRandomNumber(25));\r\n            for(let i = 0; i < this.tail.length; i++) {\r\n                this.tail[i] = new Symbol(p5, false);\r\n            }\r\n        }\r\n    }\r\n\r\n    initSymbol(p5: p5, isHead: boolean) {\r\n        this.symbol = getRandomSymbol();\r\n        this.randomChange = 0;\r\n        this.position = p5.createVector(Math.random() * p5.width, -100);\r\n        this.velocity = p5.createVector(0, Math.random() * 2 + 1);\r\n       \r\n    }\r\n\r\n    update(p5: p5, isHead: boolean = true) {\r\n        if(isHead) {\r\n            this.position.add(this.velocity);\r\n            this.randomChange = Math.random();\r\n            if(this.randomChange > 0.998){\r\n                \r\n                this.symbol = getRandomSymbol();\r\n                this.tail.forEach((e, i) => setTimeout(() => {\r\n                    e.lastSymbol = e.symbol;\r\n                    e.symbol = getRandomSymbol();\r\n                    p5.fill(0, 200, 0);\r\n                }, 75 * i))\r\n            } \r\n            if(this.position.y > p5.height + this.tail.length * Y_OFFSET * this.velocity.y / 2){\r\n                this.initSymbol(p5, true);\r\n            } \r\n        }\r\n    }\r\n    draw(p5: p5) {\r\n        p5.textSize(Math.round(this.velocity.y * 10));\r\n        if(this.tail) {\r\n            for(let i = 0; i < this.tail.length; i++) {\r\n                const calculatedY = this.position.y - (Y_OFFSET * this.velocity.y / 2 * i)\r\n                if(checkMouseHover(this.position.x, calculatedY, p5.mouseX, p5.mouseY)) {\r\n                    p5.fill(0, 200, 0);\r\n                } else {\r\n                    const alpha =  255 - (220 / this.tail.length  * i);\r\n                    const alphaOffset = this.tail[i].lastSymbol !== this.tail[i].symbol ? alpha + 100: alpha;\r\n                    p5.fill(0, 200, 0,alphaOffset);\r\n                    this.tail[i].lastSymbol = this.tail[i].symbol;\r\n                }\r\n                p5.text(this.tail[i].symbol, this.position.x, calculatedY);\r\n                \r\n            } \r\n        }\r\n    }\r\n}\r\n\r\nexport default Symbol;\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;;;;;;AAGA;;;;A","sourceRoot":""}