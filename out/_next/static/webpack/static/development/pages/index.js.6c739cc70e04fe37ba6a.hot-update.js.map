{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.6c739cc70e04fe37ba6a.hot-update.js","sources":["webpack:///./src/components/sketchs/matrixRain/symbol.ts"],"sourcesContent":["import p5 from \"p5\";\r\n\r\nconst getRandomSymbol = () => {\r\n  return String.fromCharCode(0x30a0 + Math.round(Math.random() * 90));\r\n};\r\n\r\nconst getRandomNumber = (max: number, min: number = 10) => {\r\n  return Math.floor(Math.random() * max) + min;\r\n};\r\n\r\nconst Y_OFFSET = 21;\r\n\r\nclass Symbol {\r\n  position: p5.Vector;\r\n  velocity: p5.Vector;\r\n  symbol: string;\r\n  tail: Array<Symbol>;\r\n  constructor(p5: p5, positionX: number, isHead: boolean = true) {\r\n    this.symbol = getRandomSymbol();\r\n    this.initSymbol(p5, positionX);\r\n    if (isHead) {\r\n      this.velocity = p5.createVector(0, Math.random() * 4 + 4);\r\n      this.tail = new Array(getRandomNumber(p5.width / 100) + 5);\r\n      for (let i = 0; i < this.tail.length; i++) {\r\n        this.tail[i] = new Symbol(p5, positionX, false);\r\n      }\r\n    }\r\n  }\r\n\r\n  initSymbol(p5: p5, positionX: number) {\r\n    this.position = p5.createVector(positionX, -Math.random() * 500);\r\n  }\r\n  update(p5: p5, isHead: boolean = true) {\r\n    if (isHead) {\r\n      this.position.add(this.velocity);\r\n      const changeSymbol = Math.random() > 0.95;\r\n      if (changeSymbol) {\r\n        this.symbol = getRandomSymbol();\r\n      }\r\n      if (this.position.y > p5.height + this.tail.length * Y_OFFSET) {\r\n        this.initSymbol(p5, this.position.x);\r\n      }\r\n      for (let i = 0; i < this.tail.length; i++) {\r\n        //this.tail[i].update(p5, false);\r\n        const calculatedY = this.position.y - Y_OFFSET * i - 20;\r\n        const alpha = 255 - 8 * i;\r\n        if (changeSymbol) {\r\n          setTimeout(() => {\r\n            this.tail[i].symbol = getRandomSymbol();\r\n            console.log(\"THIS IS HAPPENING\");\r\n          }, 50 * i);\r\n        }\r\n\r\n        p5.fill(80, 255, 80, alpha);\r\n        if (i < 2) {\r\n          p5.fill(120, 255, 120, alpha * 3);\r\n        } else {\r\n          p5.fill(80, 255, 80, alpha);\r\n        }\r\n\r\n        p5.text(this.tail[i].symbol, this.position.x, calculatedY);\r\n      }\r\n    }\r\n  }\r\n  draw(p5: p5) {\r\n    p5.fill(180, 255, 180);\r\n    p5.text(this.symbol, this.position.x, this.position.y);\r\n    if (this.tail) {\r\n      //   for (let i = 0; i < this.tail.length; i++) {\r\n      //     //this.tail[i].update(p5, false);\r\n      //     const calculatedY = this.position.y - Y_OFFSET * i - 20;\r\n      //     const alpha = 255 - 8 * i;\r\n      //     if (i < 2) {\r\n      //       p5.fill(120, 255, 120, alpha * 3);\r\n      //     } else {\r\n      //       p5.fill(80, 255, 80, alpha);\r\n      //     }\r\n      //     p5.text(this.tail[i].symbol, this.position.x, calculatedY);\r\n      //   }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Symbol;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AATA;AAUA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AACA;AAQA;AAAA;AAmBA;AACA;AACA;;;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAGA;;;;A","sourceRoot":""}